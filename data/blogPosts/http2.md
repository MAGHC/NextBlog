### 인터넷 통신

인터넷은 복잡한 망을 가지고있다. (해상케이블 등등)

이 복잡한 망을 어떻게 지나갈까? = > IP

### IP

ip = internet protocol

ip주소 라는 최소한의 규칙을가지고 망을 지나가게된다.

클라이언트도 , 서버도 ip 주소가 있어야 된다.

프로토콜 이 하는 일?

지정한 ip 주소에 패킷이라는 통신단위로 데이터전달

패킷안에 도착지 , 출발지, 전달할 메세지 가 있는걸 던지면

여러가지 노드들을 거쳐서 서버까지 전달한다.

그러면 서버도 다시 응답해서 보내게 되는데

- 요청할때와 받을때 서로 다른 노드를 거쳐서 갈 수 도 있다. (인터넷 망은 복잡하기 때문)

### Ip 프로토콜의 한계

1. 비연결성

서버가 꺼져있거나 존재하지 않아도 패킷이 전송된다

2. 비신뢰성

중간에 패킷이 모종의 이유(해저 케이블을 상어가 뜯어먹는다던지)로 소실 될 수 있다 .

3. 전달 순서

패킷의 용량이 클때 끊어서 보내게 되는데 중간에 다른 노드를 타게되어 순서가 뒤죽박죽 되어 올 수 있다.

4. 프로그램 구분

음악 , 게임 , 웹서핑 동시에 하고 있을때 어느 프로그램에서 보낸 패킷인지 구분이 안된다.

이런문제의 해결책 => TCP

### TCP

ip라는것을 tcp 라는것이 보완해주는 역할

특징

전송제어 프로토콜

1. 연결지향 - 연결을 한다음에 메세지를 보낸다 TCP 3 way handshake(가상 연결)

2. 데이터 전달 보증 - 메세지가 누락된걸 알 수 있다.

3. 순서 보장

신뢰할 수 있는 프로토콜

tcp 3 way handshake

1.syn(전송요청)

2.syn+ack

3.ack(요청수락// 요청수락과함께 데이터전송이 가능함 그래서 이단계에서 수락하고 자기도 보냄)

클라이언트도 서버를 믿을수있고 서버도 클라이언트를 믿을 수 있다.

이렇게 연결이 되고 나서 데이터를 전송한다.

### udp

udp는 tcp랑 같은 계층에 있는 프로토콜이지만 기능이없음

ip랑 거의 동일하다

tcp 에도 port 가있다 udp에도있음

port 가 하는일 ? ⇒ 여러 어플리케이션 구분할때 쓰는게 port 체크섬(이 메세지에대한 검증 데이터)

이걸 쓰는이유 ? ⇒ tcp 는 3way handshake 할려면 시간이 걸림 그리고 저렇게 여러게 넣다보면 데이터도 많아지고 전송속도도 빠르게 할 수 없음 / 단순하고 빠름

최근에 udp 가 뜨고있는데 뜨고있는이유? ⇒ 더 최적화 하고 줄여보자

하지만 tcp 점유율이 90프로이상이라고함
